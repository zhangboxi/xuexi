<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<script type="text/javascript">
			//'async作用于一个functio之上，它是promise的一个语法糖，返回的对象是promise'
			
			async	function asynctest(type) {
				if(type == 1){
					return '成功'
				}else{
					throw new Error('失败')
					
				}
				
			}
			//调用方式
			let test1 = asynctest(0).then(result => {
    		console.log(result);
			}).catch(result => {
    		console.log(result);
			})
			//console.log('await作用于async的方法内部，将promise的异步变为同步')


			function timeout(ms) {
				return new Promise((resolve, reject) => {
					setTimeout(resolve, ms, "finish");
				});
			}
			async function asyncTimeSys(){
					await timeout(1000);
					console.log("第一层异步结束！")
					await timeout(1000);
					console.log("第二层异步结束！")
					await timeout(1000);
					console.log("第三层异步结束！")
					await timeout(1000);
					console.log("第四层异步结束！")
					await timeout(1000);
					console.log("第五层异步结束！")
					return "all finish";
			}
			asyncTimeSys().then((value)=>{
					console.log(value);
			});

			function interview(count) {
				//返回一个promise对象
			}

			//实例
			async function test33(){
				try{
					//同步执行异步操作
					await interview(1);
					await interview(2);
					await interview(3);
					//同步执行异步操作
					await Promise.all([ interview(1), interview(2)])
					await Promise.all([ interview(3), interview(4)])

				}catch(e){
					console.log(e.count)
				}
			}

		</script>
	</body>

</html>